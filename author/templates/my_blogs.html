{% extends "base.html" %}
{% load static %}
{% block content %}
<h3 class="text-center">My Blogs</h3>
<div class="row p-5 ">
    {% for blog  in post  %}
  <div class="col-sm-4 mb-3 mb-sm-0 p-3 d-flex flex-wrap ">
    
    <div class="card">
      <div class="card-body">
        <img
            src="{{ blog.image.url }}"
            class="card-img-top img-fluid"
            style="max-height: 250px; object-fit: contain;"
            alt="{{ blog.title }}"
          />
        <h5 class="card-title">{{blog.title}}</h5>
        <p class="card-text">{{blog.content}}</p>
        <h6 class="card-text">Author: {{blog.author.first_name}} {{blog.author.last_name}}</h6>
        <p>
          Categories: {% for catagories in blog.category.all %}
            <button class="btn btn-info disabled p-1 m-1"> 
            {{catagories.name}}
            </button>
            {% endfor %}
        </p>
        <a href="{% url "delete_post" blog.id %}" class="btn btn-danger">Delete</a>
        <a href="{% url 'edit_post' blog.id %}" class="btn btn-primary">Edit</a>
<h6>Total Comments: {{ blog.comments.count }}</h6>
{% for comment in blog.comments.all %}
  <small>{{ comment.name }}: {{ comment.comment }}</small><br>
{% empty %}
  <small>No comments yet.</small>
{% endfor %}
      </div>
      

    </div>
  </div>
  {% endfor %}
</div>
{% endblock content %}

